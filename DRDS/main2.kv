#:import Animation kivy.animation.Animation
#:import MDProgressBar kivymd.progressbar.MDProgressBar
#:import MDSlider kivymd.slider.MDSlider
#:import MDList kivymd.list.MDList
#:import MDButton kivymd.button.MDRaisedButton
#:import math math

# Set Global Font Types to save typing later
#:set GaugeFont "data/fonts/Eurostile LT Std Medium.ttf"
#:set ButtonFont "data/fonts/Eurostile LT Std Extended 2.ttf"

# Dock Y ZERO coordinate base. This will make it easier to fine tune the dock pos when installed behind radio opening.
#:set Dock_y0 160

AnchorLayout:
    ScreenManager:
        id: sm
        Gauge4Screen:
            name: "gauge4"
            FloatLayout:
                Image:
                    source: "data/wallpapers/black.png"
                Label:
                    text:
                        str(math.floor(app.Speed)) if app.SpeedUnit == "MPH" \
                        else str(math.floor(app.Speed / 0.6213711922))
                    text_size: 300, 100
                    halign: 'right'
                    valign: 'middle'
                    font_size: 80
                    pos: -270, 170
                    font_name: GaugeFont
                Label:
                    text: str(app.RPM)
                    text_size: 300, 100
                    halign: 'right'
                    valign: 'middle'
                    font_size: 80
                    pos: -270, 60
                    font_name: GaugeFont
                Label:
                    text: app.SpeedUnit
                    text_size: 300, 100
                    halign: 'right'
                    valign: 'middle'
                    font_size: 15
                    pos: -230, 153
                    font_name: GaugeFont
                Label:
                    text: "RPM"
                    text_size: 300, 100
                    halign: 'right'
                    valign: 'middle'
                    font_size: 15
                    pos: -230, 43
                    font_name: GaugeFont
                Label:
                    text: app.currentgear
                    font_size: 200
                    size_hint: None, None
                    height: 150
                    width: 250
                    halign: 'center'
                    valign: 'middle'
                    font_hinting: None
                    pos: 550, 262
                    font_name: GaugeFont
                Image:
                    source: "data/gauges/S2KOutline_DoubleWhite.png"
                   # opacity: 1 if app.RPM_Enable else 0
                    pos: 550, 270  # Adjust position as needed
                    size_hint: None, None
                    height: 150
                    width: 250

                # RPM Gauge Value Label
                Label:
                    text: str(app.RPM) + " RPM"
                    font_size: 70
                    size_hint: None, None
                    height: 150
                    width: 250
                    halign: 'center'
                    valign: 'middle'
                    pos: 580, 270  # Adjust position as needed
                    font_name: GaugeFont
