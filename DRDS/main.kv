#:import Animation kivy.animation.Animation
#:import MDProgressBar kivymd.progressbar.MDProgressBar
#:import MDSlider kivymd.slider.MDSlider
#:import MDList kivymd.list.MDList
#:import MDButton kivymd.button.MDRaisedButton
#:import math math

# Set Global Font Types to save typing later
#:set GaugeFont "data/fonts/Eurostile LT Std Medium.ttf"
#:set ButtonFont "data/fonts/Eurostile LT Std Extended 2.ttf"

# Dock Y ZERO coordinate base. This will make it easier to fine tune the dock pos when installed behind radio opening.
#:set Dock_y0 160

AnchorLayout:
    ScreenManager:
        id: sm
        Gauge4Screen:
            name: "gauge4"
            FloatLayout:
                Image:
                    source: "data/wallpapers/black.png"

                # MPH and RPM Information
                Label:
                    text: str(math.floor(app.Speed))
                    font_size: 80
                    pos: 150, -183  # Adjusted to be on the left
                    font_name: GaugeFont
                Label:
                    text: app.SpeedUnit
                    font_size: 15
                    pos: 200, -200  # Close to MPH label
                    font_name: GaugeFont
                Label:
                    text: str(app.RPM)
                    font_size: 80
                    pos: -150, -183  # Below MPH information
                    font_name: GaugeFont
                Label:
                    text: "RPM"
                    font_size: 15
                    pos: -100, -200  # Close to RPM label
                    font_name: GaugeFont

                # Gear Display in the Middle
              #  Label:
              #      text: app.currentgear
              #      font_size: 200
              #      size_hint: None, None
              #      height: 150
              #      width: 250
              #      pos: 50, 240  # Positioned centrally
              #      font_name: GaugeFont

                # RPM Gauge and Label on the Right
                Image:
                    source: "data/gauges/S2KOutline_DoubleWhite.png"
                    pos: 150, 300  # Positioned on the right
                    size_hint: 0.3, 0.3  # Adjust these values as needed
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5} 
                    height: 300
                    width: 500

               # Image:
               #     source: str(app.RPM_Image)
               #     opacity: 1
               #     pos: 250, 350
               #     size_hint: None, None
               #     height: 150
               #     width: 250

                # Gear Display in the Middle
                Label:
                    text: app.currentgear
                    font_size: 100
                    size_hint: None, None
                    height: 50
                    width: 100
                    pos: 350, 200  # Positioned centrally
                    font_name: GaugeFont

               #Label:
               #    text: str(app.RPM) + " RPM"
               #    font_size: 70
               #    size_hint: None, None
               #    height: 150
               #    width: 250
               #    pos: 440, 200  # Directly beneath the RPM gauge image
               #    font_name: GaugeFont
